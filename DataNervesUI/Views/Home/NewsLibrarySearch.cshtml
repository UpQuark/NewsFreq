@using System.Web.Mvc
@using System.Web.Mvc.Html
@model DataNervesUI.Models.NewsFreqModel

@{
    ViewBag.Title = "News Frequency Search";
}

<div class="master-content-wrapper">
    <h1>@ViewBag.Title</h1>
    <h2>@ViewBag.Message</h2>
</div>
<div id="NewsFreqFormWrapper"  class="block-content-wrapper">
    <div>
        <p class="descriptionText">
            This tool enables you to analyze the popularity of topics in American news coverage.
            You can use it to gather data on major trends in news reporting and visualize them in seconds.
            Try searching issues that interest you to see how the volume of coverage changes over time and how it compares to other topics.<br/>
        </p>
    </div>
    <div id="NewsFreqInputWrapper">
        <table id="NewsFreqSearchForm">
            <tr>
                <td>
                    <span>
                        Enter search term or terms. Boolean operators are supported
                    </span><br/>
                    <input type="text" id="SearchTerms" placeholder="Keywords"/>
                    <span>&nbsp; in &nbsp;</span>
                    <select id="SearchTargets">
                        <option value="Lead">lede</option>
                        <option value="">entire article</option>
                        <option value="Title">headline</option>
                        <option value="Topics">index terms</option>
                        <option value="Author">author</option>
                        <option value="Section">section</option>
                        <option value="Source">source</option>
                    </select>
                </td>
            </tr>
            <tr>
                
                <td>
                    <div id="NewsFreqInputSourceWrapper">
                        <span>Search by:<br/></span>
                        <div id="SourceTypeRadioGroup" class="NewsFreqRadioGroup" style="display:none">
                            <input type="radio" name="sourceType" id="SourceRadio" checked/><label for="SourceRadio"> Source publication </label><br/>
                            <input type="radio" name="sourceType" id="ParentRadio"/><label for="ParentRadio"> Parent company</label><br/>
                        </div>
                        <input type="text" id="SearchSource" placeholder="News source (optional)"/>
                        <select id="ParentCompany" style="display:none">
                            <option value="">Comcast</option>
                            <option value="">Disney</option>
                            <option value="">NewsCorp / 21st Century Fox</option>
                            <option value="">Time Warner</option>
                            <option value="">Viacom</option>
                            <option value="">CBS</option>
                        </select>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <span> Enter date range: </span><br/>
                    <input type="text" id="DateFrom" class = "DatePicker" placeholder = "Start date"/>
                    <span>&nbsp; to &nbsp;</span>  
                    <input type="text" id="DateTo" class = "DatePicker" placeholder = "End date"/>
                </td>
            </tr>
            <tr>
                <td>
                    <span id="ErrorLabel"></span>
                    <input type="submit" value="Search" id="SearchButton"/>
                    <input type="button" value="Clear data" id="ClearButton" class = "disabledButton" disabled="disabled" />
                    <div class="modal">
                        <img src="http://i.imgur.com/RZPE8Wh.gif"/>
                    </div>
                </td>
            </tr>
        </table>
    </div>
    <div id="NewsFormRadioGroupWrapper">
        <table>
            <tr>
                <td>
                    <div id="SearchIncrementRadioGroup" class="NewsFreqRadioGroup">
                        <span>Search increment: </span><span class="question"><strong>?</strong></span><br/>
                        <input type="radio" name="searchIncrement" id="Monthly" checked/><label for="Monthly"> Monthly</label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        <input type="radio" name="searchIncrement" id="Annual"/><label for="Annual"> Annual</label> <br/>
                    </div>
                </td>
            </tr>
            <tr>
                <td>   
                    <div id="SearchWeightRadioGroup" class="NewsFreqRadioGroup">
                        <span>Search type: </span><br/>
                        <input type="radio" name="searchWeight" id="Unweighted" checked/><label for="Unweighted"> Unweighted</label>&nbsp;
                        <input type="radio" name="searchWeight" id="Weighted"/> <label for="Weighted"> Weighted</label><br/>
                    </div>
                </td>
            </tr>
        </table>
    </div>
</div>
 
<div id="NewsFreqGraphWrapper" >
    <canvas id="NewsFreqGraph" height="350" width="480"></canvas>
    <div id="NewsFreqGraphLegend"></div>
    <div id="NewsFreqGraphLabel"></div>
</div>
    
<div id="NewsFreqTableWrapper" class="block-content-wrapper">  
    <table id="NewsFreqTable">
        <tbody id="NewsFreqTableContent">
        </tbody>
    </table>
    <meta name = "viewport" content = "initial-scale = 1, user-scalable = no">
</div> 

@section Scripts{
    <script type="text/javascript">
        $(document).ready(function () {
            var newsFreq = new NewsFreq();

            $('#SearchButton').click(function() {
                newsFreq.form.search(false);
            });
            $('#ClearButton').click(function() {
                newsFreq.clear();
            });
        });
    </script>
}